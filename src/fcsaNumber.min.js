/*! angular-fcsa-number (version 1.5.3) 2017-02-17 */
(function(){var a,b={}.hasOwnProperty;a=angular.module("fcsa-number",[]),a.directive("fcsaNumber",["fcsaNumberConfig",function(a){var c,d,e,f,g,h,i,j,k,l,m,n,o;return e=a.defaultOptions,f=function(a){var c,d,f,g;if(d=angular.copy(e),null!=a.options){g=a.$eval(a.options);for(c in g)b.call(g,c)&&(f=g[c],d[c]=f)}return d},j=function(a){return!isNaN(parseFloat(a))&&isFinite(a)},i=function(a){return 44>a||a>57||47===a},d=[0,8,13],h=function(a){return-1===d.indexOf(a)},g=function(a,b){return null==b&&(b="."),null!=a&&a.toString().split(b).length>2},l=function(a,b){var c,d;return null==b&&(b="."),c=a>0?"^-?\\d*\\"+b+"?\\d{0,"+a+"}$":"^-?\\d*$",d=new RegExp(c),function(a){return d.test(a)}},n=function(a){return function(b,c){return a>=c}},o=function(a){return function(b,c){return c>=a}},m=function(a,b){var c;return null==b&&(b="."),c=new RegExp("^-?\\d{0,"+a+"}(\\"+b+"\\d*)?$"),function(a){return c.test(a)}},k=function(a){var b;return b=[],null!=a.maxDecimals&&b.push(l(a.maxDecimals,a.decimalSeparator)),null!=a.max&&b.push(n(a.max)),null!=a.min&&b.push(o(a.min)),null!=a.maxDigits&&b.push(m(a.maxDigits,a.decimalSeparator)),function(c){var d,e,f,h;if(!j(c))return!1;if(g(c,a.decimalSeparator))return!1;for(e=Number(c),d=f=0,h=b.length;h>=0?h>f:f>h;d=h>=0?++f:--f)if(!b[d](c,e))return!1;return!0}},c=function(a,b,c){var d,e,f,g,h;return null==b&&(b=","),null==c&&(c="."),e=new RegExp("^-?\\d+(?=\\"+c+".)",""),f=-1==a.indexOf(c)?"":a.replace(e,""),h=new RegExp("(\\"+c+"\\d+)$"),g=a.replace(h,""),d=g.replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+b),""+d+f},{restrict:"A",require:"ngModel",scope:{options:"@fcsaNumber"},link:function(a,b,d,e){var g,j,l;return j=f(a),g=k(j),l=new RegExp("\\"+j.thousandSeparator,"g"),e.$parsers.unshift(function(a){var b;return b=a.toString().replace(/,/g,""),g(b)||!b?(e.$setValidity("fcsaNumber",!0),b):void e.$setValidity("fcsaNumber",!1)}),e.$formatters.push(function(a){return null==j.nullDisplay||a&&""!==a?null!=a&&g(a)?(e.$setValidity("fcsaNumber",!0),a=c(a.toString(),j.thousandSeparator,j.decimalSeparator),null!=j.prepend&&(a=""+j.prepend+a),null!=j.append&&(a=""+a+j.append),a):a:j.nullDisplay}),b.on("blur",function(){var a,b,c,d,f;if(b=e.$modelValue,null!=b&&g(b)){for(f=e.$formatters,c=0,d=f.length;d>c;c++)a=f[c],b=a(b);return e.$viewValue=b,e.$render()}}),b.on("focus",function(){var a;return a=b.val(),null!=j.prepend&&(a=a.replace(j.prepend,"")),null!=j.append&&(a=a.replace(j.append,"")),b.val(a.replace(l,"")),b[0].select()}),j.preventInvalidInput===!0?b.on("keypress",function(a){return i(a.which)&&h(a.which)?a.preventDefault():void 0}):void 0}}}]),a.provider("fcsaNumberConfig",function(){var a;a={decimalSeparator:".",thousandSeparator:","},this.setDefaultOptions=function(b){return a=b},this.$get=function(){return{defaultOptions:a}}})}).call(this);